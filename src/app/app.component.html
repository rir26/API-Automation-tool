<div style="display: flex; height: 100vh;">
  <div style="width: 22%; border-right: 2px solid #333;">
    <app-file-import 
      label="Import Swagger/OpenAPI"
      [requiredBasename]="'swagger'"
      [validationMessage]="'File must be a valid swagger definition'"
      (fileImported)="onSwaggerImported($event)">
    </app-file-import>
    <app-file-import 
      label="Import Parameters"
      (fileImported)="onParamsImported($event)">
    </app-file-import>
    <div style="margin-top:12px; display:flex; flex-direction:column; gap:6px;">
      <label for="bearerInput" style="font-weight:600;">Bearer token</label>
      <input id="bearerInput" type="password" [(ngModel)]="bearerToken" placeholder="Paste bearer token"/>
      <small style="color:#777;">We never store this token; it's used only for this run.</small>
    </div>
    <!-- counts moved to response terminal top-right -->
    <div style="margin-top:20px; display:flex; gap:8px; align-items:center;">
      <button
        (click)="runTests()"
        [disabled]="!swaggerContent || !paramsContent"
        [attr.aria-disabled]="(!swaggerContent || !paramsContent) ? true : null"
        [title]="(!swaggerContent || !paramsContent) ? 'Please upload both Swagger and Parameters files to enable this action' : ''">
        Run & Show Response
      </button>
      
      <span *ngIf="!swaggerContent || !paramsContent" style="color:#888; font-size:12px;">
        Upload required files to enable the Run button
      </span>
    </div>
  </div>
  <div style="flex:1; position:relative;">
    <div style="position:absolute; top:8px; right:12px; z-index:20; display:flex; gap:8px; align-items:center; background:rgba(255,255,255,0.9); padding:6px 10px; border-radius:6px; box-shadow:0 2px 6px rgba(0,0,0,0.15);">
      <div style="font-weight:600; font-size:13px; color:#333;">APIs</div>
      <div>
        <span style="color:green; font-weight:600;">Passed: {{apiPassedCount}}</span>
        <span style="margin-left:10px; color:red; font-weight:600;">Failed: {{apiFailedCount}}</span>
      </div>
    </div>
    <app-response-terminal [response]="apiResponse"></app-response-terminal>
  </div>
</div>
